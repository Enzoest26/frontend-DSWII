<div class="container" style="margin-top: 5rem;">

    <h4 style="margin-top: 100px;">
        Lista de Órdenes <small>| Reportes</small>
    </h4>

    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a th:href="@{/administrador}">Home</a></li>
        <li class="breadcrumb-item active">Órdenes</li>
    </ol>

    <div>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Número de Orden</th>
                    <th scope="col">Fecha de compra</th>
                    <th scope="col">Valor</th>
                    <th scope="col">Acción</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let orden of ordenes">
                    <td>{{orden.numero}}</td>
                    <td>{{orden.fechaCreacion | date: 'dd/MM/yyyy HH:mm:ss'}}</td>
                    <td>S/. {{orden.total}}</td>
                    <td>
                        <button class="detalles"
                        (click)="verDetalles(orden, modalContent)">Ver</button>
                    </td>
                </tr>
                <ng-template #modalContent let-modal>
                    <div class="modal-header">
                        <h4 class="modal-title">Detalles de la Orden</h4>
                        <button 
                         type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Id: {{selectedOrder.id}}</p>
                        <p>fecha de creacion: {{selectedOrder.fechaCreacion | date: 'dd/MM/yyyy HH:mm:ss'}}</p>
                        <p>Fecha recibida: {{ selectedOrder.fechaRecibida | date: 'dd/MM/yyyy HH:mm:ss' }}</p>
                        <p>Número de Orden: {{ selectedOrder.numero }}</p>
                        <p>Valor: S/. {{ selectedOrder.total }}</p>
                        <p>Usuario: {{selectedOrder.usuario.nombre}}</p>
                    </div>
                </ng-template>
            </tbody>
        </table>
    </div>
</div>